<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="dark-mode">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AUI Framework: /github/workspace/aui.json/src/AUI/Json/Conversion.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AUI Framework
   &#160;<span id="projectnumber">develop</span>
   </div>
   <div id="projectbrief">Cross-platform module-based framework for developing  C++20 desktop applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_2github_2workspace_2aui_8json_2src_2AUI_2Json_2Conversion_8h-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">/github/workspace/aui.json/src/AUI/Json/Conversion.h</div></div>
</div><!--header-->
<div class="contents">
<p >Json fields definition. </p><div class="fragment"><div class="line"><span class="keyword">struct </span>SomeModel {</div>
<div class="line">    type1 field1;</div>
<div class="line">    type2 field2;</div>
<div class="line">    ...</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">AJSON_FIELDS(SomeModel,</div>
<div class="line">    (field1, <span class="stringliteral">&quot;name1&quot;</span>)</div>
<div class="line">    (field2, <span class="stringliteral">&quot;name2&quot;</span>)</div>
<div class="line">    ...</div>
<div class="line">)</div>
</div><!-- fragment --><p >Also, flags can be set:</p>
<div class="fragment"><div class="line">AJSON_FIELDS(SomeModel,</div>
<div class="line">    (field1, <span class="stringliteral">&quot;name1&quot;</span>)</div>
<div class="line">    (field2, <span class="stringliteral">&quot;name2&quot;</span>, AJsonFieldFlags::OPTIONAL)</div>
<div class="line">    ...</div>
<div class="line">)</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd>AJsonFieldFlags</dd></dl>
<div class="fragment"><div class="line"><span class="keyword">struct </span>SomeModel {</div>
<div class="line">    <span class="keywordtype">int</span> value1;</div>
<div class="line">    <a id="_a0" name="_a0"></a><a class="code hl_class" href="classAString.html">AString</a> value2;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">AJSON_FIELDS(SomeModel,</div>
<div class="line">    (value1, <span class="stringliteral">&quot;value1&quot;</span>)</div>
<div class="line">    (value2, <span class="stringliteral">&quot;value2&quot;</span>)</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"> </div>
<div class="line">AJSON_FIELDS(SomeModel,</div>
<div class="line">    AJSON_FIELDS_ENTRY(value1)</div>
<div class="line">    AJSON_FIELDS_ENTRY(value2)</div>
<div class="line">)</div>
<div class="ttc" id="aclassAString_html"><div class="ttname"><a href="classAString.html">AString</a></div><div class="ttdoc">Represents a Unicode character string.</div><div class="ttdef"><b>Definition:</b> AString.h:37</div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * AUI Framework - Declarative UI toolkit for modern C++20</span></div>
<div class="line"><span class="comment"> * Copyright (C) 2020-2024 Alex2772 and Contributors</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * SPDX-License-Identifier: MPL-2.0</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This Source Code Form is subject to the terms of the Mozilla Public</span></div>
<div class="line"><span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span></div>
<div class="line"><span class="comment"> * file, You can obtain one at http://mozilla.org/MPL/2.0/.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;AUI/Json/AJson.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;AUI/IO/APath.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;AUI/Traits/parameter_pack.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;AUI/Traits/members.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;AUI/Reflect/AEnumerate.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;AUI/Traits/strings.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Specialization = <span class="keywordtype">void</span>&gt;</div>
<div class="line"><span class="keyword">struct </span><a id="_a0" name="_a0"></a><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>aui {</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> has_json_converter = aui::is_complete&lt;AJsonConv&lt;T&gt;&gt;;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keyword">inline</span> <a id="_a1" name="_a1"></a><a class="code hl_class" href="classAJson.html">AJson</a> to_json(<span class="keyword">const</span> T&amp; t) {</div>
<div class="line">        <span class="keyword">static_assert</span>(aui::has_json_converter&lt;T&gt;, <span class="stringliteral">&quot;this type does not implement AJsonConv&lt;T&gt; trait&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_struct" href="structAJsonConv.html">AJsonConv&lt;T&gt;::toJson</a>(t);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keyword">inline</span> T from_json(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; v) {</div>
<div class="line">        <span class="keyword">static_assert</span>(aui::has_json_converter&lt;T&gt;, <span class="stringliteral">&quot;this type does not implement AJsonConv&lt;T&gt; trait&quot;</span>);</div>
<div class="line">        T dst;</div>
<div class="line">        <a class="code hl_struct" href="structAJsonConv.html">AJsonConv&lt;T&gt;::fromJson</a>(v, dst);</div>
<div class="line">        <span class="keywordflow">return</span> dst;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> from_json(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; v, T&amp; dst) {</div>
<div class="line">        <span class="keyword">static_assert</span>(aui::has_json_converter&lt;T&gt;, <span class="stringliteral">&quot;this type does not implement AJsonConv&lt;T&gt; trait&quot;</span>);</div>
<div class="line">        <a class="code hl_struct" href="structAJsonConv.html">AJsonConv&lt;T&gt;::fromJson</a>(v, dst);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// win fix</span></div>
<div class="line"><span class="preprocessor">#ifdef OPTIONAL</span></div>
<div class="line"><span class="preprocessor">#undef OPTIONAL</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><a id="a2" name="a2"></a><a class="code hl_function" href="group__core.html#gaaf899fee232b3bc2862a3b0302a79ff5">AUI_ENUM_FLAG</a>(AJsonFieldFlags) {</div>
<div class="line">    <a class="code hl_enumvalue" href="group__views.html#ggaec8a763bfbb2044d7b55de90c5a56742a5b39c8b553c821e7cddc6da64b5bd2ee">DEFAULT</a> = 0b0,</div>
<div class="line"> </div>
<div class="line">    OPTIONAL = 0b1,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>aui::impl::json {</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keyword">struct </span>Field {</div>
<div class="line">        T&amp; value;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* name;</div>
<div class="line">        AJsonFieldFlags flags;</div>
<div class="line"> </div>
<div class="line">        Field(T&amp; value, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, AJsonFieldFlags flags) : value(value), name(name), flags(flags) {}</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> operator()(<span class="keyword">const</span> <a id="_a3" name="_a3"></a><a class="code hl_struct" href="structaui_1_1impl_1_1JsonObject.html">AJson::Object</a>&amp; <span class="keywordtype">object</span>) {</div>
<div class="line">            <span class="keywordflow">if</span> (<span class="keyword">auto</span> c = <span class="keywordtype">object</span>.<a id="a4" name="a4"></a><a class="code hl_function" href="group__core.html#ga5eab01bd6015b51aca8bfddb3b525e32">contains</a>(name)) {</div>
<div class="line">                aui::from_json&lt;T&gt;(c-&gt;second, value);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="keywordflow">if</span> (!(flags &amp; AJsonFieldFlags::OPTIONAL)) {</div>
<div class="line">                    <span class="keywordflow">throw</span> <a id="_a5" name="_a5"></a><a class="code hl_class" href="classAJsonException.html">AJsonException</a>(R<span class="stringliteral">&quot;(field &quot;{}&quot; is not present)&quot;_format(name));</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">        }</span></div>
<div class="line"><span class="stringliteral">        </span><span class="keywordtype">void</span> operator()(<a class="code hl_struct" href="structaui_1_1impl_1_1JsonObject.html">AJson::Object</a>&amp; <span class="keywordtype">object</span>) {</div>
<div class="line">            <span class="keywordtype">object</span>[name] = aui::to_json&lt;T&gt;(value);</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Items&gt;</div>
<div class="line">    <span class="keyword">struct </span>my_tuple: std::tuple&lt;Items...&gt; {</div>
<div class="line">        my_tuple(Items... items): std::tuple&lt;Items...&gt;(std::move(items)...) {}</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">        <span class="keyword">auto</span> operator()(T&amp; v, <span class="keyword">const</span> <span class="keywordtype">char</span>* n, AJsonFieldFlags flags = AJsonFieldFlags::DEFAULT) {</div>
<div class="line">            <span class="keywordflow">return</span> (std::apply)([&amp;](<span class="keyword">auto</span>&amp;&amp;... <a id="a6" name="a6"></a><a class="code hl_function" href="group__core.html#ga537f82748636c62d35a8ec4ed38a0fe0">args</a>) {</div>
<div class="line">                <span class="keywordflow">return</span> <a id="_a7" name="_a7"></a><a class="code hl_struct" href="structaui_1_1impl_1_1json_1_1my__tuple.html">aui::impl::json::my_tuple</a>(<a class="code hl_function" href="group__core.html#ga537f82748636c62d35a8ec4ed38a0fe0">args</a>..., <a id="_a8" name="_a8"></a><a class="code hl_struct" href="structaui_1_1impl_1_1json_1_1Field.html">aui::impl::json::Field</a>(v, n, flags));</div>
<div class="line">            }, stdTuple());</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        std::tuple&lt;Items...&gt;&amp; stdTuple() {</div>
<div class="line">            <span class="keywordflow">return</span> (std::tuple&lt;Items...&gt;&amp;)*<span class="keyword">this</span>;</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>empty_tuple {</div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">        <span class="keyword">auto</span> operator()(T&amp; v, <span class="keyword">const</span> <span class="keywordtype">char</span>* n, AJsonFieldFlags flags = AJsonFieldFlags::DEFAULT) {</div>
<div class="line">            <span class="keywordflow">return</span> my_tuple(<a class="code hl_struct" href="structaui_1_1impl_1_1json_1_1Field.html">aui::impl::json::Field</a>(v, n, flags));</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span><a id="_a9" name="_a9"></a><a class="code hl_struct" href="structAJsonConvFieldDescriptor.html">AJsonConvFieldDescriptor</a>;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define AJSON_FIELDS(N, ...) \</span></div>
<div class="line"><span class="preprocessor">template&lt;&gt; struct AJsonConvFieldDescriptor&lt;N&gt;: N { \</span></div>
<div class="line"><span class="preprocessor">    auto operator()() { \</span></div>
<div class="line"><span class="preprocessor">        return aui::impl::json::empty_tuple() \</span></div>
<div class="line"><span class="preprocessor">                __VA_ARGS__ \</span></div>
<div class="line"><span class="preprocessor">                ; \</span></div>
<div class="line"><span class="preprocessor">    } \</span></div>
<div class="line"><span class="preprocessor">};</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define AJSON_FIELDS_ENTRY(name) (name, AUI_PP_STRINGIZE(name))</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;T, std::enable_if_t&lt;aui::is_complete&lt;AJsonConvFieldDescriptor&lt;T&gt;&gt;&gt;&gt; {</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<span class="keyword">const</span> T&amp; t) {</div>
<div class="line">        <a class="code hl_struct" href="structaui_1_1impl_1_1JsonObject.html">AJson::Object</a> json;</div>
<div class="line">        std::apply([&amp;](<span class="keyword">auto</span>&amp;&amp;... fields) {</div>
<div class="line">            aui::parameter_pack::for_each([&amp;](<span class="keyword">auto</span>&amp;&amp; field) {</div>
<div class="line">                field(json);</div>
<div class="line">            }, fields...);</div>
<div class="line">        }, ((<a class="code hl_struct" href="structAJsonConvFieldDescriptor.html">AJsonConvFieldDescriptor&lt;T&gt;</a>&amp;)t)().stdTuple());</div>
<div class="line">        <span class="keywordflow">return</span> std::move(json);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, T&amp; dst) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; jsonObject = json.<a id="a10" name="a10"></a>asObject();</div>
<div class="line">        std::apply([&amp;](<span class="keyword">auto</span>&amp;&amp;... fields) {</div>
<div class="line">            aui::parameter_pack::for_each([&amp;](<span class="keyword">auto</span>&amp;&amp; field) {</div>
<div class="line">                field(jsonObject);</div>
<div class="line">            }, fields...);</div>
<div class="line">        }, ((<a class="code hl_struct" href="structAJsonConvFieldDescriptor.html">AJsonConvFieldDescriptor&lt;T&gt;</a>&amp;)dst)().stdTuple());</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;int&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<span class="keywordtype">int</span> v) {</div>
<div class="line">        <span class="keywordflow">return</span> v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <span class="keywordtype">int</span>&amp; dst) {</div>
<div class="line">        dst = json.<a id="a11" name="a11"></a>asInt();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;int64_t&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(int64_t v) {</div>
<div class="line">        <span class="keywordflow">return</span> v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, int64_t&amp; dst) {</div>
<div class="line">        dst = json.<a id="a12" name="a12"></a>asLongInt();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;short&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<span class="keywordtype">int</span> v) {</div>
<div class="line">        <span class="keywordflow">return</span> v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">int</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json) {</div>
<div class="line">        <span class="keywordflow">return</span> json.asInt();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;float&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<span class="keywordtype">float</span> v) {</div>
<div class="line">        <span class="keywordflow">return</span> v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <span class="keywordtype">float</span>&amp; dst) {</div>
<div class="line">        dst = json.<a id="a13" name="a13"></a>asNumber();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;double&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<span class="keywordtype">double</span> v) {</div>
<div class="line">        <span class="keywordflow">return</span> v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <span class="keywordtype">double</span>&amp; dst) {</div>
<div class="line">        dst = json.asNumber();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;aui::arithmetic UnderlyingType, auto min, auto max&gt;</div>
<div class="line">    <span class="keyword">requires</span> aui::convertible_to&lt;<span class="keyword">decltype</span>(min), UnderlyingType&gt; &amp;&amp; aui::convertible_to&lt;<span class="keyword">decltype</span>(max), UnderlyingType&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;aui::ranged_number&lt;UnderlyingType, min, max&gt;&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<a id="_a14" name="_a14"></a><a class="code hl_struct" href="structaui_1_1ranged__number.html">aui::ranged_number&lt;UnderlyingType, min, max&gt;</a> v) {</div>
<div class="line">        <span class="keywordflow">return</span> (UnderlyingType) v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <a class="code hl_struct" href="structaui_1_1ranged__number.html">aui::ranged_number&lt;UnderlyingType, min, max&gt;</a>&amp; dst) {</div>
<div class="line">        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (aui::same_as&lt;UnderlyingType, float&gt; || aui::same_as&lt;UnderlyingType, double&gt;) {</div>
<div class="line">            dst = (UnderlyingType) json.asNumber();</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            dst = (UnderlyingType) json.asLongInt();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;bool&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<span class="keywordtype">bool</span> v) {</div>
<div class="line">        <span class="keywordflow">return</span> v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <span class="keywordtype">bool</span>&amp; dst) {</div>
<div class="line">        dst = json.<a id="a15" name="a15"></a>asBool();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;<a class="code hl_class" href="classAString.html">AString</a>&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<a class="code hl_class" href="classAString.html">AString</a> v) {</div>
<div class="line">        <span class="keywordflow">return</span> v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <a class="code hl_class" href="classAString.html">AString</a>&amp; dst) {</div>
<div class="line">        dst = json.<a id="a16" name="a16"></a>asString();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;<a id="_a17" name="_a17"></a><a class="code hl_class" href="classAPath.html">APath</a>&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<a class="code hl_class" href="classAPath.html">APath</a> v) {</div>
<div class="line">        <span class="keywordflow">return</span> v;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <a class="code hl_class" href="classAPath.html">APath</a>&amp; dst) {</div>
<div class="line">        dst = json.asString();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;std::pair&lt;T1, T2&gt;&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(std::pair&lt;T1, T2&gt; v) {</div>
<div class="line">        <span class="keywordflow">return</span> <a id="_a18" name="_a18"></a><a class="code hl_class" href="classAVector.html">AJson::Array</a>({aui::to_json(v.first), aui::to_json(v.second)});</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, std::pair&lt;T1, T2&gt;&amp; dst) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; array = json.<a id="a19" name="a19"></a>asArray();</div>
<div class="line">        dst = { aui::from_json&lt;T1&gt;(array.at(0)), aui::from_json&lt;T2&gt;(array.at(1)) };</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;<a class="code hl_class" href="classAJson.html">AJson</a>::Array&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<a class="code hl_class" href="classAVector.html">AJson::Array</a> v) {</div>
<div class="line">        <span class="keywordflow">return</span> std::move(v);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <a class="code hl_class" href="classAVector.html">AJson::Array</a>&amp; dst) {</div>
<div class="line">        dst = json.asArray();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;<a class="code hl_class" href="classAJson.html">AJson</a>::Object&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<a class="code hl_struct" href="structaui_1_1impl_1_1JsonObject.html">AJson::Object</a> v) {</div>
<div class="line">        <span class="keywordflow">return</span> std::move(v);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <a class="code hl_struct" href="structaui_1_1impl_1_1JsonObject.html">AJson::Object</a>&amp; dst) {</div>
<div class="line">        dst = json.asObject();</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;<a class="code hl_class" href="classAVector.html">AVector</a>&lt;T&gt;, typename std::enable_if_t&lt;aui::has_json_converter&lt;T&gt;&gt;&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<span class="keyword">const</span> <a class="code hl_class" href="classAVector.html">AVector&lt;T&gt;</a>&amp; v) {</div>
<div class="line">        <a class="code hl_class" href="classAVector.html">AJson::Array</a> array;</div>
<div class="line">        array.reserve(v.size());</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; elem : v) {</div>
<div class="line">            array &lt;&lt; aui::to_json(elem);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> std::move(array);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, <a class="code hl_class" href="classAVector.html">AVector&lt;T&gt;</a>&amp; dst) {</div>
<div class="line">        <span class="keyword">auto</span>&amp; array = json.asArray();</div>
<div class="line">        dst.clear();</div>
<div class="line">        dst.reserve(array.size());</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; elem : array) {</div>
<div class="line">            dst &lt;&lt; aui::from_json&lt;T&gt;(elem);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structAJsonConv.html">AJsonConv</a>&lt;T, typename std::enable_if_t&lt;std::is_enum_v&lt;T&gt;&gt;&gt; {</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="classAJson.html">AJson</a> toJson(<span class="keyword">const</span> T&amp; v) {</div>
<div class="line">        <span class="keywordflow">return</span> <a id="a20" name="a20"></a><a class="code hl_function" href="classAEnumerate.html#afa46b450b5dbb8f6f95cf74067c65633">AEnumerate&lt;T&gt;::valueToNameMap</a>()[v];</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> fromJson(<span class="keyword">const</span> <a class="code hl_class" href="classAJson.html">AJson</a>&amp; json, T&amp; dst) {</div>
<div class="line">        dst = <a id="a21" name="a21"></a><a class="code hl_function" href="classAEnumerate.html#abe246fad40858dec2815bd7087ed707c">AEnumerate&lt;T&gt;::byName</a>(json.asString());</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="ttc" id="aclassAEnumerate_html_abe246fad40858dec2815bd7087ed707c"><div class="ttname"><a href="classAEnumerate.html#abe246fad40858dec2815bd7087ed707c">AEnumerate::byName</a></div><div class="ttdeci">static enum_t byName(const AString &amp;name)</div><div class="ttdoc">Map runtime name to enum value. Transforms name to uppercase as a fallback. Throws an exception if no...</div><div class="ttdef"><b>Definition:</b> AEnumerate.h:121</div></div>
<div class="ttc" id="aclassAEnumerate_html_afa46b450b5dbb8f6f95cf74067c65633"><div class="ttname"><a href="classAEnumerate.html#afa46b450b5dbb8f6f95cf74067c65633">AEnumerate::valueToNameMap</a></div><div class="ttdeci">static const AMap&lt; enum_t, AString, enum_less &gt; &amp; valueToNameMap()</div><div class="ttdoc">Map runtime enum value to name.</div><div class="ttdef"><b>Definition:</b> AEnumerate.h:183</div></div>
<div class="ttc" id="aclassAJsonException_html"><div class="ttname"><a href="classAJsonException.html">AJsonException</a></div><div class="ttdef"><b>Definition:</b> Exception.h:17</div></div>
<div class="ttc" id="aclassAJson_html"><div class="ttname"><a href="classAJson.html">AJson</a></div><div class="ttdoc">Json atom.</div><div class="ttdef"><b>Definition:</b> AJson.h:79</div></div>
<div class="ttc" id="aclassAPath_html"><div class="ttname"><a href="classAPath.html">APath</a></div><div class="ttdoc">An add-on to AString with functions for working with the path.</div><div class="ttdef"><b>Definition:</b> APath.h:106</div></div>
<div class="ttc" id="aclassAVector_html"><div class="ttname"><a href="classAVector.html">AVector</a></div><div class="ttdoc">A std::vector with AUI extensions.</div><div class="ttdef"><b>Definition:</b> AVector.h:38</div></div>
<div class="ttc" id="agroup__core_html_ga537f82748636c62d35a8ec4ed38a0fe0"><div class="ttname"><a href="group__core.html#ga537f82748636c62d35a8ec4ed38a0fe0">aui::args</a></div><div class="ttdeci">API_AUI_CORE const ACommandLineArgs &amp; args() noexcept</div><div class="ttdef"><b>Definition:</b> OSAndroid.cpp:29</div></div>
<div class="ttc" id="agroup__core_html_ga5eab01bd6015b51aca8bfddb3b525e32"><div class="ttname"><a href="group__core.html#ga5eab01bd6015b51aca8bfddb3b525e32">aui::container::contains</a></div><div class="ttdeci">bool contains(const Container &amp;c, const typename Container::const_reference value) noexcept</div><div class="ttdef"><b>Definition:</b> containers.h:153</div></div>
<div class="ttc" id="agroup__core_html_gaaf899fee232b3bc2862a3b0302a79ff5"><div class="ttname"><a href="group__core.html#gaaf899fee232b3bc2862a3b0302a79ff5">AUI_ENUM_FLAG</a></div><div class="ttdeci">AUI_ENUM_FLAG(ASide)</div><div class="ttdoc">Describes sides of a 2D rectangle.</div><div class="ttdef"><b>Definition:</b> ASide.h:24</div></div>
<div class="ttc" id="agroup__views_html_ggaec8a763bfbb2044d7b55de90c5a56742a5b39c8b553c821e7cddc6da64b5bd2ee"><div class="ttname"><a href="group__views.html#ggaec8a763bfbb2044d7b55de90c5a56742a5b39c8b553c821e7cddc6da64b5bd2ee">ATextInputActionIcon::DEFAULT</a></div><div class="ttdeci">@ DEFAULT</div><div class="ttdoc">There's no concrete input action. Let the OS decide which action is the most appropriate.</div></div>
<div class="ttc" id="astructAJsonConvFieldDescriptor_html"><div class="ttname"><a href="structAJsonConvFieldDescriptor.html">AJsonConvFieldDescriptor</a></div><div class="ttdef"><b>Definition:</b> Conversion.h:133</div></div>
<div class="ttc" id="astructAJsonConv_html"><div class="ttname"><a href="structAJsonConv.html">AJsonConv</a></div><div class="ttdef"><b>Definition:</b> Conversion.h:42</div></div>
<div class="ttc" id="astructaui_1_1impl_1_1JsonObject_html"><div class="ttname"><a href="structaui_1_1impl_1_1JsonObject.html">aui::impl::JsonObject</a></div><div class="ttdef"><b>Definition:</b> AJson.h:31</div></div>
<div class="ttc" id="astructaui_1_1impl_1_1json_1_1Field_html"><div class="ttname"><a href="structaui_1_1impl_1_1json_1_1Field.html">aui::impl::json::Field</a></div><div class="ttdef"><b>Definition:</b> Conversion.h:86</div></div>
<div class="ttc" id="astructaui_1_1impl_1_1json_1_1my__tuple_html"><div class="ttname"><a href="structaui_1_1impl_1_1json_1_1my__tuple.html">aui::impl::json::my_tuple</a></div><div class="ttdef"><b>Definition:</b> Conversion.h:108</div></div>
<div class="ttc" id="astructaui_1_1ranged__number_html"><div class="ttname"><a href="structaui_1_1ranged__number.html">aui::ranged_number</a></div><div class="ttdoc">Clamps the possible values for a number to the specified range: [min;max].</div><div class="ttdef"><b>Definition:</b> values.h:452</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
