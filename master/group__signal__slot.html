<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="dark-mode">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AUI Framework: Signal-slot</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AUI Framework
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">Cross-platform module-based framework for developing  C++20 desktop applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__signal__slot.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">Signal-slot<div class="ingroups"><a class="el" href="group__core.html">aui::core</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Signal-slots is an object messaging mechanism that creates seamless relations between objects.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Signal-slots is an object messaging mechanism that creates seamless relations between objects. </p>
<p >Signal-slots were originally implemented in Qt and it has proven themselves as an object messaging mechanism making it easy to implement the observer pattern without boilerplate code. Signal-slot tracks object existence on the both ends so destruction of either sender or receiver object breaks the link between them. When the sender or receiver object is destroyed slot execution is never possible even in a multithreaded environment. Almost any signal can be connected to almost any slot (even lambda) by any code.</p>
<p >All classes that inherit from <a class="el" href="classAObject.html" title="A base object class.">AObject</a> or one of its subclasses (e.g., <a class="el" href="classAView.html" title="Base class of all UI objects.">AView</a>) can contain signals and slots. Signals are emitted by objects when they change their state in a way that may be interesting to other objects. This is all the object does to communicate. It does not know or care whether anything is receiving the signals it emits. This is true information encapsulation, and ensures that the object can be used as a software component.</p>
<p ><a class="el" href="group__signal__slot.html#ga78df6aa411708ae01bdfcdb3ee98b865">Signal declarations</a> are special public fields of any class that inherit from <a class="el" href="classAObject.html" title="A base object class.">AObject</a>. </p><div class="fragment"><div class="line"><span class="keyword">class </span>Counter: <span class="keyword">public</span> <a class="code hl_class" href="classAObject.html">AObject</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  Counter() = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> setValue(<span class="keywordtype">int</span> value) {</div>
<div class="line">    mValue = value;</div>
<div class="line">    <a class="code hl_define" href="group__signal__slot.html#gac622150996edd734a10f229eb381a53f">emit</a> valueChanged;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">signals:</div>
<div class="line">  <a class="code hl_class" href="classASignal.html">emits&lt;&gt;</a> valueChanged;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">int</span> mValue = 0;</div>
<div class="line">};</div>
<div class="ttc" id="aclassAObject_html"><div class="ttname"><a href="classAObject.html">AObject</a></div><div class="ttdoc">A base object class.</div><div class="ttdef"><b>Definition:</b> AObject.h:49</div></div>
<div class="ttc" id="aclassASignal_html"><div class="ttname"><a href="classASignal.html">ASignal&lt; Args... &gt;</a></div></div>
<div class="ttc" id="agroup__signal__slot_html_gac622150996edd734a10f229eb381a53f"><div class="ttname"><a href="group__signal__slot.html#gac622150996edd734a10f229eb381a53f">emit</a></div><div class="ttdeci">#define emit</div><div class="ttdoc">emits the specified signal in context of this object.</div><div class="ttdef"><b>Definition:</b> AObject.h:196</div></div>
</div><!-- fragment --><p >They can specify arguments: </p><div class="fragment"><div class="line"><a class="code hl_class" href="classASignal.html">emits&lt;int&gt;</a> valueChanged;</div>
<div class="line">...</div>
<div class="line">emit valueChanged(mValue);</div>
</div><!-- fragment --><p >Any member function of a class can be used as a slot.</p>
<p >You can connect as many signals as you want to a single slot, and a signal can be connected to as many slots as you need.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
Signals</h2>
<p >Signals are publicly accessible fields that notify an object's client when its internal state has changed in some way that might be interesting or significant. These signals can be emitted from various locations, but it is generally recommended to only emit them from within the class that defines the signal and its subclasses.</p>
<p >The slots connected to a signal are generaly executed immediately when the signal is emitted like a regular function call. <code>emit</code> returns control after all slots are called. If receiver has AObject::setSlotsCallsOnlyOnMyThread set to true and <code>emit</code> was called on a different thread, <code>emit</code> queues slot execution to the <a class="el" href="classAEventLoop.html" title="Default event loop implementation.">AEventLoop</a> associated with receiver's thread. All <a class="el" href="classAView.html" title="Base class of all UI objects.">AView</a> have this behaviour enabled by default.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Slots</h1>
<p >A slot is triggered by the emission of a related signal. Slot is no more than a regular class method with a signal connected to it.</p>
<p >When called directly, slots follow standard C++ rules and syntax. However, through a signal-slot connection, any component can invoke a slot regardless of its accessibility level. Visibility scope matters only when creating connection (AObject::connect). This means a signal from one class can call a private slot in another unrelated class if connection is created within class itself (with access to its private/protected methods).</p>
<p >Furthermore, slots can be defined as virtual functions, which have been found to be beneficial in practical application development.</p>
<p >Compared to callbacks, the signals and slots system has some performance overhead due to its increased flexibility. The difference is typically insignificant for real-world applications. In general, emitting a signal connected to various slots can result in an execution time roughly ten times slower than direct function calls. This delay comes from locating the connection object and safely iterating over connections.</p>
<p >The trade-off between the signals and slots mechanism's simplicity and flexibility compared to pure function calls or callbacks is well-justified for most applications, given its minimal performance cost that users won't perceive.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Basic example</h1>
<p >Let's use <code>Counter</code> from our previous example: </p><div class="fragment"><div class="line"><span class="keyword">class </span>Counter: <span class="keyword">public</span> <a class="code hl_class" href="classAObject.html">AObject</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  Counter() = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> setValue(<span class="keywordtype">int</span> value) {</div>
<div class="line">    mValue = value;</div>
<div class="line">    <a class="code hl_define" href="group__signal__slot.html#gac622150996edd734a10f229eb381a53f">emit</a> valueChanged(value);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">signals:</div>
<div class="line">  <a class="code hl_class" href="classASignal.html">emits&lt;int&gt;</a> valueChanged;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">int</span> mValue = 0;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MyApp: <span class="keyword">public</span> <a class="code hl_class" href="classAObject.html">AObject</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  MyApp() {}</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> run() {</div>
<div class="line">    connect(mCounter-&gt;valueChanged, <span class="keyword">this</span>, &amp;MyApp::printCounter);</div>
<div class="line">    mCounter-&gt;setValue(123); <span class="comment">// prints &quot;New value: 123&quot;</span></div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <a class="code hl_class" href="class__.html">_&lt;Counter&gt;</a> mCounter = _new&lt;Counter&gt;();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> printCounter(<span class="keywordtype">int</span> value) {</div>
<div class="line">    ALogger::info(<span class="stringliteral">&quot;MyApp&quot;</span>) &lt;&lt; value;</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__useful__macros.html#ga9fb2be9313369673815a6892aa7f3a1f">AUI_ENTRY</a> {</div>
<div class="line">  <span class="keyword">auto</span> app = _new&lt;MyApp&gt;();</div>
<div class="line">  app-&gt;run();</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclass___html"><div class="ttname"><a href="class__.html">_</a></div><div class="ttdoc">An std::weak_ptr with AUI extensions.</div><div class="ttdef"><b>Definition:</b> SharedPtrTypes.h:177</div></div>
<div class="ttc" id="agroup__useful__macros_html_ga9fb2be9313369673815a6892aa7f3a1f"><div class="ttname"><a href="group__useful__macros.html#ga9fb2be9313369673815a6892aa7f3a1f">AUI_ENTRY</a></div><div class="ttdeci">#define AUI_ENTRY</div><div class="ttdoc">Application entry point.</div><div class="ttdef"><b>Definition:</b> Entry.h:92</div></div>
</div><!-- fragment --><p >If <code>connect(mCounter-&gt;valueChanged, this, &amp;MyApp::printCounter);</code> looks too long for you, you can use <a class="el" href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">slot</a> macro: </p><div class="fragment"><div class="line">connect(mCounter-&gt;valueChanged, <a class="code hl_define" href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">slot</a>(<span class="keyword">this</span>)::printCounter);</div>
<div class="ttc" id="agroup__signal__slot_html_gaaaa072876366972108aef016e7882a99"><div class="ttname"><a href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">slot</a></div><div class="ttdeci">#define slot(v)</div><div class="ttdoc">Passes some variable and type of the variable separated by comma. It's convenient to use with the con...</div><div class="ttdef"><b>Definition:</b> kAUI.h:90</div></div>
</div><!-- fragment --><p >Furthermore, when connecting to <code>this</code>, <a class="el" href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99" title="Passes some variable and type of the variable separated by comma. It&#39;s convenient to use with the con...">slot(this)</a> can be replaced with <a class="el" href="group__signal__slot.html#gac83b72d92d1105a82cd5590c0f65d48b">me</a>: </p><div class="fragment"><div class="line">connect(mCounter-&gt;valueChanged, me::printCounter);</div>
</div><!-- fragment --><p >Lambda can be used as a slot either: </p><div class="fragment"><div class="line">connect(mCounter-&gt;valueChanged, <span class="keyword">this</span>, [](<span class="keywordtype">int</span> value) {</div>
<div class="line">  ALogger::info(<span class="stringliteral">&quot;MyApp&quot;</span>) &lt;&lt; value;</div>
<div class="line">});</div>
</div><!-- fragment --><p >As with methods, <code>this</code> can be omitted: </p><div class="fragment"><div class="line">connect(mCounter-&gt;valueChanged, [](<span class="keywordtype">int</span> value) {</div>
<div class="line">  ALogger::info(<span class="stringliteral">&quot;MyApp&quot;</span>) &lt;&lt; value;</div>
<div class="line">});</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
UI example</h1>
<p >Knowing basics of signal slots, you can now utilize UI signals: </p><div class="fragment"><div class="line">mOkButton = _new&lt;AButton&gt;(<span class="stringliteral">&quot;OK&quot;</span>);</div>
<div class="line">...</div>
<div class="line">connect(mOkButton-&gt;clicked, [] { <span class="comment">// the signal is connected to &quot;this&quot; object</span></div>
<div class="line">    ALogger::info(<span class="stringliteral">&quot;Example&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;The button was clicked&quot;</span>;</div>
<div class="line">});</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>In lambda, do not capture shared pointer (AUI's <a class="el" href="class__.html" title="An std::weak_ptr with AUI extensions.">_</a>) of signal emitter or receiver object by value. This would cause a memory leak: <div class="fragment"><div class="line">mOkButton = _new&lt;AButton&gt;(<span class="stringliteral">&quot;OK&quot;</span>);</div>
<div class="line">...</div>
<div class="line">connect(mOkButton-&gt;clicked, [view] { <span class="comment">// WRONG!!!</span></div>
<div class="line">    view-&gt;setText(<span class="stringliteral">&quot;clicked&quot;</span>);</div>
<div class="line">});</div>
</div><!-- fragment --> Do this way: <div class="fragment"><div class="line">mOkButton = _new&lt;AButton&gt;(<span class="stringliteral">&quot;OK&quot;</span>);</div>
<div class="line">...</div>
<div class="line">connect(mOkButton-&gt;clicked, [view = view.get()] { <span class="comment">// ok</span></div>
<div class="line">    view-&gt;setText(<span class="stringliteral">&quot;clicked&quot;</span>);</div>
<div class="line">});</div>
</div><!-- fragment --></dd></dl>
<h2><a class="anchor" id="autotoc_md4"></a>
Going further</h2>
<p >Let's take our previous example with <code>Counter</code> and make an UI app. Signal slot reveals it's power when your objects have small handy functions, so lets add <code>increase</code> method to our counter:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Counter: <span class="keyword">public</span> <a class="code hl_class" href="classAObject.html">AObject</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  Counter() = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> setValue(<span class="keywordtype">int</span> value) {</div>
<div class="line">    mValue = value;</div>
<div class="line">    <a class="code hl_define" href="group__signal__slot.html#gac622150996edd734a10f229eb381a53f">emit</a> valueChanged(value);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> increase() {</div>
<div class="line">    setValue(mCounter + 1);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">signals:</div>
<div class="line">  <a class="code hl_class" href="classASignal.html">emits&lt;int&gt;</a> valueChanged;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">int</span> mValue = 0;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MyApp: <span class="keyword">public</span> <a class="code hl_class" href="classAWindow.html">AWindow</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  MyApp() {</div>
<div class="line">    <span class="keyword">auto</span> label = _new&lt;ALabel&gt;(<span class="stringliteral">&quot;-&quot;</span>);</div>
<div class="line">    <span class="keyword">auto</span> button = _new&lt;AButton&gt;(<span class="stringliteral">&quot;Increase&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using namespace </span>declarative;</div>
<div class="line">    setContents(<a class="code hl_struct" href="structaui_1_1ui__building_1_1layouted__container__factory.html">Vertical</a> {</div>
<div class="line">      label,</div>
<div class="line">      button,</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    connect(button-&gt;clicked, <a class="code hl_define" href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">slot</a>(mCounter)::increase); <span class="comment">// beauty, huh?</span></div>
<div class="line">    connect(mCounter-&gt;valueChanged, label, [label = label.get()](<span class="keywordtype">int</span> value) {</div>
<div class="line">      label-&gt;setText(<span class="stringliteral">&quot;{}&quot;</span>_format(value));</div>
<div class="line">    });</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <a class="code hl_class" href="class__.html">_&lt;Counter&gt;</a> mCounter = _new&lt;Counter&gt;();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="group__useful__macros.html#ga9fb2be9313369673815a6892aa7f3a1f">AUI_ENTRY</a> {</div>
<div class="line">  <span class="keyword">auto</span> app = _new&lt;MyApp&gt;();</div>
<div class="line">  app-&gt;show();</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassAWindow_html"><div class="ttname"><a href="classAWindow.html">AWindow</a></div><div class="ttdoc">Represents a window in the underlying windowing system.</div><div class="ttdef"><b>Definition:</b> AWindow.h:45</div></div>
<div class="ttc" id="astructaui_1_1ui__building_1_1layouted__container__factory_html"><div class="ttname"><a href="structaui_1_1ui__building_1_1layouted__container__factory.html">aui::ui_building::layouted_container_factory</a></div><div class="ttdef"><b>Definition:</b> Declarative.h:173</div></div>
</div><!-- fragment --><p >This way, by clicking on "Increase", it would increase the counter and immediately display value via label.</p>
<p >Let's make things more declarative and use <a class="el" href="group__useful__macros.html#ga045dd54932944d8830380f4596d64446">let</a> syntax to set up connections: </p><div class="fragment"><div class="line">MyApp() {</div>
<div class="line">  <span class="keyword">using namespace </span>declarative;</div>
<div class="line">  setContents(<a class="code hl_struct" href="structaui_1_1ui__building_1_1layouted__container__factory.html">Vertical</a> {</div>
<div class="line">    _new&lt;ALabel&gt;(<span class="stringliteral">&quot;-&quot;</span>) <a class="code hl_define" href="group__useful__macros.html#ga045dd54932944d8830380f4596d64446">let</a> {</div>
<div class="line">      connect(counter-&gt;valueChanged, label, [label = it.get()](<span class="keywordtype">int</span> value) {</div>
<div class="line">        label-&gt;setText(<span class="stringliteral">&quot;{}&quot;</span>_format(value));</div>
<div class="line">      });</div>
<div class="line">    },</div>
<div class="line">    _new&lt;AButton&gt;(<span class="stringliteral">&quot;Increase&quot;</span>) <a class="code hl_define" href="group__useful__macros.html#ga045dd54932944d8830380f4596d64446">let</a> {</div>
<div class="line">      connect(it-&gt;clicked, <a class="code hl_define" href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">slot</a>(mCounter)::increase);</div>
<div class="line">    },</div>
<div class="line">  });</div>
<div class="line">}</div>
<div class="ttc" id="agroup__useful__macros_html_ga045dd54932944d8830380f4596d64446"><div class="ttname"><a href="group__useful__macros.html#ga045dd54932944d8830380f4596d64446">let</a></div><div class="ttdeci">#define let</div><div class="ttdoc">Performs multiple operations on a single object without repeating its name (in place) This function c...</div><div class="ttdef"><b>Definition:</b> kAUI.h:262</div></div>
</div><!-- fragment --><p >See also <a class="el" href="classADataBinding.html" title="Data binding implementation.">ADataBinding</a> for making reactive UI's on trivial data.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Arguments</h1>
<p >If signal declares arguments (i.e, like <a class="el" href="classAView.html#a7299aeca90d52aa7406bebf1b5bb604a" title="Keyboard key pressed.">AView::keyPressed</a>), you can accept them: </p><div class="fragment"><div class="line">view = _new&lt;ATextField&gt;();</div>
<div class="line">...</div>
<div class="line">connect(view-&gt;keyPressed, [](AInput::Key k) { <span class="comment">// the signal is connected to &quot;this&quot; object</span></div>
<div class="line">    ALogger::info(<span class="stringliteral">&quot;Example&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;Key was pressed: &quot;</span> &lt;&lt; k;</div>
<div class="line">});</div>
</div><!-- fragment --><p >The signals and slots mechanism is type safe: The signature of a signal must match the signature of the receiving slot. Also, a slot may have a shorter signature than the signal it receives because it can ignore extra arguments: </p><div class="fragment"><div class="line">view = _new&lt;ATextField&gt;();</div>
<div class="line">...</div>
<div class="line">connect(view-&gt;keyPressed, [] { <span class="comment">// the signal is connected to &quot;this&quot; object</span></div>
<div class="line">    ALogger::info(<span class="stringliteral">&quot;Example&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;Key was pressed&quot;</span>;</div>
<div class="line">});</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
Differences between Qt and AUI implementation</h1>
<p >Suppose we want to emit <code>statusChanged</code> signal with a string argument and connect it with <code>showMessage</code> slot: </p><table class="doxtable">
<tr>
<th></th><th>Qt </th><th>AUI  </th></tr>
<tr>
<td>Signal declaration </td><td><div class="fragment"><div class="line">signals:</div>
<div class="line">  <span class="keywordtype">void</span> statusChanged(QString str);</div>
</div><!-- fragment -->  </td><td><div class="fragment"><div class="line">signals:</div>
<div class="line">  <a class="code hl_class" href="classASignal.html">emits&lt;AString&gt;</a> statusChanged;</div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>Slot declaration </td><td><div class="fragment"><div class="line">slots:</div>
<div class="line">  <span class="keywordtype">void</span> showMessage(QString str);</div>
</div><!-- fragment -->  </td><td><div class="fragment"><div class="line"><span class="keywordtype">void</span> showMessage(<a class="code hl_class" href="classAString.html">AString</a> str);</div>
<div class="ttc" id="aclassAString_html"><div class="ttname"><a href="classAString.html">AString</a></div><div class="ttdoc">Represents a Unicode character string.</div><div class="ttdef"><b>Definition:</b> AString.h:37</div></div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>Connect from <code>this</code> to <code>this</code> </td><td><div class="fragment"><div class="line">connect(<span class="keyword">this</span>, SIGNAL(statusChanged(QString), <span class="keyword">this</span>, SLOT(showMessage(QString)));</div>
</div><!-- fragment -->  </td><td><div class="fragment"><div class="line">connect(statusChanged, me::showMessage);</div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>Connect from the <code>emitter</code> object to the <code>sender</code> object </td><td><div class="fragment"><div class="line">QObject::connect(emitter, SIGNAL(statusChanged(QString), receiver, SLOT(showMessage(QString)));</div>
</div><!-- fragment -->  </td><td><div class="fragment"><div class="line">AObject::connect(emitter-&gt;statusChanged, <a class="code hl_define" href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">slot</a>(receiver)::showMessage);</div>
</div><!-- fragment -->   </td></tr>
</table>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAAbstractSignal.html">AAbstractSignal</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class for signal.  <a href="classAAbstractSignal.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAObject.html">AObject</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base object class.  <a href="classAObject.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gac622150996edd734a10f229eb381a53f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__signal__slot.html#gac622150996edd734a10f229eb381a53f">emit</a>&#160;&#160;&#160;(*this) ^</td></tr>
<tr class="memdesc:gac622150996edd734a10f229eb381a53f"><td class="mdescLeft">&#160;</td><td class="mdescRight">emits the specified signal in context of <code>this</code> object.  <a href="group__signal__slot.html#gac622150996edd734a10f229eb381a53f">More...</a><br /></td></tr>
<tr class="separator:gac622150996edd734a10f229eb381a53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00cd4f40ca195cb6b174543dca2a431e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__signal__slot.html#ga00cd4f40ca195cb6b174543dca2a431e">AUI_EMIT_FOREIGN</a>(object,  signal, ...)&#160;&#160;&#160;(*object) ^ object-&gt;signal(__VA_ARGS__)</td></tr>
<tr class="memdesc:ga00cd4f40ca195cb6b174543dca2a431e"><td class="mdescLeft">&#160;</td><td class="mdescRight">emits the specified signal in context of specified object.  <a href="group__signal__slot.html#ga00cd4f40ca195cb6b174543dca2a431e">More...</a><br /></td></tr>
<tr class="separator:ga00cd4f40ca195cb6b174543dca2a431e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac83b72d92d1105a82cd5590c0f65d48b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__signal__slot.html#gac83b72d92d1105a82cd5590c0f65d48b">me</a>&#160;&#160;&#160;this, &amp;std::remove_reference_t&lt;decltype(*this)&gt;</td></tr>
<tr class="memdesc:gac83b72d92d1105a82cd5590c0f65d48b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passes the current class and type of the current class separated by comma. It's convenient to use with the connect function:  <a href="group__signal__slot.html#gac83b72d92d1105a82cd5590c0f65d48b">More...</a><br /></td></tr>
<tr class="separator:gac83b72d92d1105a82cd5590c0f65d48b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaaa072876366972108aef016e7882a99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">slot</a>(v)&#160;&#160;&#160;v, &amp;aui::impl::slot::decode_type_t&lt;std::decay_t&lt;decltype(v)&gt;&gt;</td></tr>
<tr class="memdesc:gaaaa072876366972108aef016e7882a99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passes some variable and type of the variable separated by comma. It's convenient to use with the connect function (see examples).  <a href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">More...</a><br /></td></tr>
<tr class="separator:gaaaa072876366972108aef016e7882a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga78df6aa411708ae01bdfcdb3ee98b865"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:ga78df6aa411708ae01bdfcdb3ee98b865"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__signal__slot.html#ga78df6aa411708ae01bdfcdb3ee98b865">emits</a> = <a class="el" href="classASignal.html">ASignal</a>&lt; Args... &gt;</td></tr>
<tr class="memdesc:ga78df6aa411708ae01bdfcdb3ee98b865"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal declaration.  <a href="group__signal__slot.html#ga78df6aa411708ae01bdfcdb3ee98b865">More...</a><br /></td></tr>
<tr class="separator:ga78df6aa411708ae01bdfcdb3ee98b865"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga00cd4f40ca195cb6b174543dca2a431e" name="ga00cd4f40ca195cb6b174543dca2a431e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00cd4f40ca195cb6b174543dca2a431e">&#9670;&nbsp;</a></span>AUI_EMIT_FOREIGN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AUI_EMIT_FOREIGN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signal, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(*object) ^ object-&gt;signal(__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>emits the specified signal in context of specified object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>pointer-like reference to object to emit signal from. </td></tr>
    <tr><td class="paramname">signal</td><td>signal field name </td></tr>
    <tr><td class="paramname">...</td><td>arguments to the signal</td></tr>
  </table>
  </dd>
</dl>
<p>Unlike emit, this macro allows to emit signal of other object. It's recommended to use AUI_EMIT_FOREIGN only if there's no way to use emit.</p>
<p >Basic example: (in context of member function of <a class="el" href="classAView.html" title="Base class of all UI objects.">AView</a>): </p><div class="fragment"><div class="line"><span class="keyword">auto</span> view = _new&lt;AButton&gt;(<span class="stringliteral">&quot;button&quot;</span>); <span class="comment">// or whatever view</span></div>
<div class="line"><a class="code hl_define" href="group__signal__slot.html#ga00cd4f40ca195cb6b174543dca2a431e">AUI_EMIT_FOREIGN</a>(view, clicked);</div>
<div class="ttc" id="agroup__signal__slot_html_ga00cd4f40ca195cb6b174543dca2a431e"><div class="ttname"><a href="group__signal__slot.html#ga00cd4f40ca195cb6b174543dca2a431e">AUI_EMIT_FOREIGN</a></div><div class="ttdeci">#define AUI_EMIT_FOREIGN(object, signal,...)</div><div class="ttdoc">emits the specified signal in context of specified object.</div><div class="ttdef"><b>Definition:</b> AObject.h:224</div></div>
</div><!-- fragment --><p >This code calls slots connected to <code>clicked</code> signal.</p>
<p >If <a class="el" href="group__signal__slot.html#ga78df6aa411708ae01bdfcdb3ee98b865">signal declaration</a> has arguments, you have to specify them: </p><div class="fragment"><div class="line"><a class="code hl_define" href="group__signal__slot.html#ga00cd4f40ca195cb6b174543dca2a431e">AUI_EMIT_FOREIGN</a>(view, keyPressed, AInput::LCTRL);</div>
</div><!-- fragment --><p >See <a class="el" href="group__signal__slot.html">signal-slot system</a> for more info. </p>

</div>
</div>
<a id="gac622150996edd734a10f229eb381a53f" name="gac622150996edd734a10f229eb381a53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac622150996edd734a10f229eb381a53f">&#9670;&nbsp;</a></span>emit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define emit&#160;&#160;&#160;(*this) ^</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>emits the specified signal in context of <code>this</code> object. </p>
<p >Unlike Qt's emit, AUI's emit is not just a syntax sugar; it's required to actually perform a signal call.</p>
<p >Basic example: (in context of member function of <a class="el" href="classAView.html" title="Base class of all UI objects.">AView</a>): </p><div class="fragment"><div class="line"><a class="code hl_define" href="group__signal__slot.html#gac622150996edd734a10f229eb381a53f">emit</a> clicked;</div>
</div><!-- fragment --><p >This code calls slots connected to <code>clicked</code> signal.</p>
<p >If <a class="el" href="group__signal__slot.html#ga78df6aa411708ae01bdfcdb3ee98b865">signal declaration</a> has arguments, you have to specify them in braces: </p><div class="fragment"><div class="line"><a class="code hl_define" href="group__signal__slot.html#gac622150996edd734a10f229eb381a53f">emit</a> keyPressed(AInput::LCTRL);</div>
</div><!-- fragment --><p >See <a class="el" href="group__signal__slot.html">signal-slot system</a> for more info. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2github_2workspace_2aui_8views_2src_2AUI_2View_2AView_8h-example.html#a28">/github/workspace/aui.views/src/AUI/View/AView.h</a>.</dd>
</dl>

</div>
</div>
<a id="gac83b72d92d1105a82cd5590c0f65d48b" name="gac83b72d92d1105a82cd5590c0f65d48b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac83b72d92d1105a82cd5590c0f65d48b">&#9670;&nbsp;</a></span>me</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define me&#160;&#160;&#160;this, &amp;std::remove_reference_t&lt;decltype(*this)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Passes the current class and type of the current class separated by comma. It's convenient to use with the connect function: </p>
<table class="doxtable">
<tr>
<td>without </td><td>with  </td></tr>
<tr>
<td><div class="fragment"><div class="line">connect(clicked, <span class="keyword">this</span>, &amp;MyObject::handleClicked);</div>
</div><!-- fragment -->  </td><td><div class="fragment"><div class="line">connect(clicked, me::handleClicked);</div>
</div><!-- fragment -->   </td></tr>
</table>

</div>
</div>
<a id="gaaaa072876366972108aef016e7882a99" name="gaaaa072876366972108aef016e7882a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaaa072876366972108aef016e7882a99">&#9670;&nbsp;</a></span>slot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define slot</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;v, &amp;aui::impl::slot::decode_type_t&lt;std::decay_t&lt;decltype(v)&gt;&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Passes some variable and type of the variable separated by comma. It's convenient to use with the connect function (see examples). </p>
<p >Quick example: </p><table class="doxtable">
<tr>
<td>without </td><td>with  </td></tr>
<tr>
<td><div class="fragment"><div class="line">connect(clicked, myObject, &amp;MyObject::handleClicked);</div>
</div><!-- fragment -->  </td><td><div class="fragment"><div class="line">connect(clicked, <a class="code hl_define" href="group__signal__slot.html#gaaaa072876366972108aef016e7882a99">slot</a>(myObject)::handleClicked);</div>
</div><!-- fragment -->   </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>If you are intended to reference this-&gt; object, consider using <a class="el" href="group__signal__slot.html#gac83b72d92d1105a82cd5590c0f65d48b">me</a> instead. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="_2github_2workspace_2aui_8core_2src_2AUI_2Common_2AObject_8h-example.html#a0">/github/workspace/aui.core/src/AUI/Common/AObject.h</a>.</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga78df6aa411708ae01bdfcdb3ee98b865" name="ga78df6aa411708ae01bdfcdb3ee98b865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78df6aa411708ae01bdfcdb3ee98b865">&#9670;&nbsp;</a></span>emits</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group__signal__slot.html#ga78df6aa411708ae01bdfcdb3ee98b865">emits</a> =  <a class="el" href="classASignal.html">ASignal</a>&lt;Args...&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A signal declaration. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Args</td><td>signal arguments</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="group__signal__slot.html">signal-slot system</a> for more info. </p>

</div>
</div>
<div class="dynheader">
Collaboration diagram for Signal-slot:</div>
<div class="dyncontent">
<div class="center"><img src="group__signal__slot.png" border="0" usemap="#agroup____signal____slot" alt=""/></div>
<map name="agroup____signal____slot" id="agroup____signal____slot">
<area shape="rect" href="group__core.html" title="Main central library." alt="" coords="5,5,76,31"/>
<area shape="rect" title="Signal&#45;slots is an object messaging mechanism that creates seamless relations between objects." alt="" coords="219,5,301,31"/>
</map>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
</body>
</html>
